# 실손보험 청구 노트

실손보험 청구내역을 연결해서 기록 보관하는 기능을 제공함으로써, 보험 청구 절차 진행 시 관계자와 정보 비대칭 해소하여 
기억 못하고 잘 몰라 실수하는 답답한 사람에서 벗어나 보험사 청구 시 원활하고 떳떳한 소비자로 필요한 보험 청구에 에너지를
집중할 수 있게 도운다.

## 개요

다 쓰고 보니까. 한 페이지짜리 기획서네. 2-3 을 묶고 빈 5번에다가 후속행동을 적으면. 
[기획서 양식](https://brucemoon.net/1198142879)

1. **필요나 욕구** 

   `은행계좌 - 병원 및 약국 영수증 - 보험사 보상내역 정보`가 유기적으로 연결 되어서 보여지면 좋겠다.  

2. **필요나 욕구의 탄생** 

   보험사에게 받은 보상내역 서류에는 내가 어떤 것을 얼만큼 청구했고 그 중 얼마가 보상되었는지 나오지 않아서
   내가 누락한 것인지 보험사가 누락한 것인지 알 수가 없다.

3. **탄생 문맥** 

   DB 손해보험 실손보험 청구를 했고, 보험 설계사에게 팩스로 보낸 영수증 금액보다 매우 작은 금액이 입금됐다. 

4. **원하는 바**

   이 프로그램으로 영수증 내역을 입력하고, 내가 발송 및 접수한 내역, 보험사 접수 및 보상내역, 그리고 은행 계좌 실제 
   보상 내역을 모두 입력할 수 있다.
   
   보험 보상 내역을 클릭하면 하단에 내가 접수한 영수증의 묶음이 보이며, 그것들의 개별 보상 상태를 확인할 수 있다. 즉,
   이 보상의 상태를 한 눈에 파악할 수 있다.
   
   이렇게 함으로써, 나는 보험사와 이야기할 때 
   1. 내가 언제 보낸 어떤 영수증의 보상이, 보상번호 x 에서 누락되었다를 말할 수 있고
   2. 내가 어떤 영수증을 아직 접수하지 않았고, 어떤 영수증이 내 행동(영수증이나 소견서 발행)이 필요한 지 알 수 있고
   3. 보상 진행상태에 청구 반려 사유 등을 통해, 반려 이후 어떤 행동이 필요한 지 잊지 않고 기억할 수 있다.

5. **발생하길 기대하는 최종 효용** 
 
   결과적으로, 실손보험 청구내역을 연결해서 기록 보관하는 기능을 제공함으로써 
   1. 보험 청구 절차 진행 시 관계자와 정보 비대칭성을 해소하여 
   2. 기억 못하고 잘 몰라 실수하는 답답한 느낌에 소모되는 에너지를 줄이거나 없애서
   3. 보험사 청구 시 필요한 보험 청구에 에너지를 온전히 집중할 수 있게 도운다.
  
## 프로토타이핑

### 내용 구체화

위의 4번을 구체화

- 정보 입력
  - 구분
    - 영수증 내역 입력
    - 보험사 접수 및 보상 내역 입력
  - 속성
    - 은행 계좌와 금액
      - 계좌, 지출일, 건별 보상금액
      - 보상일 접수일 처리일
    - 영수증 내역
      - 병원, 총급여(비급여,급여), 질병코드, 입원/퇴원종류
    - 보험 내역
      - 청구대상 보험
      - 접수, 지급, 처리일자
      - 처리금액   

- 정보 보기
  - 구분
    - 영수증 별보기
       - 모든 영수증이 나열된다. 
         - 상태 미접수, 발송완료, 접수완료, 보상완료
    - 청구건 보기
       - 영수증 중 청구별 묶음으로 나열된다.
       - 청구되지 않은 것은 따로
       - 내가 접수(청구)한 날짜와 진행 상태, 그리고 필요한 후속 조치를 볼 수 있다.
    - 보상별 보기
       - 보상별로 묶어서 나열된다. 
       - 보상된 날짜, 접수 방법(팩스, 이메일, 홈페이지), 접수 상태 그리고 해당 보상에 해당하는 영수증을 보여준다.
       - 보험사 지급일과 금액의 목록, 그리고 영수증 총 청구 금액과 총 보상금액을 비교한다.
       
- 상태
   - 자료 준비 상태 : 신규, 미해당, 자료 미비, 자료 수집 중, 완료, 추가 자료 필요.
     - 필요 자료 목록, 자료 발급 일자, 자료 상태
   - 접수 방법 : 팩스, 이메일, 홈페이지, 어플.
     - 접수일자 
   - 접수 상태 : 발송, 대기, 접수 
     - 발송일, 대기일, 접수일 따로
   - 지급 상태 : 대기, 추가 자료 필요, 추가 자료 지급, 지급 완료.
     - 지급완료 일자
     - 무슨 추가자료가 필요한 지 목록, 추가자료 확보 상태

### 프로토 타이핑(기본 개발) 준비

ovenapp.io 같은 프로토 타이핑 툴로 먼저 기획을 만드는 게 좋다고 생각을 한다. 개발자 개고생 시키는 것보다는, 기획서를 
개고생 시켜서 최대한 시행착오를 줄이는 게 개발비용(지금 문맥에서는 내 인생)을 줄일 수 있으니까. 기획서는 한 쪽인데
그걸 구현하려면 몇 사람이 몇 개월간 작업해야하는 지 알 수 없다.

여튼, 근데 아 몰라. 어차피 개발 할 거면 미리 만들어 두자는 느낌으로 개발 기본 세팅을 했다. IDE 에서 로컬로 구축하는 게 
좋지만, 이건 프로토 타입이고, 장소에 구애받지 않고 수정하고 공유하기에는 온라인 IDE 가 좋다.

내가 익숙한 것과 이 프로젝트에서 필요한 것은 다음과 같다.

- 개발환경
  - 마크다운에 공유할 수 있고, 온라인으로 매번 IDE 설치 안하고 바로 사용하면 좋겠고 폴더/파일 구조 지원하면 좋겠다.
  - codesandbox
    - stackblitz 가 더 빠르고 좋았지만, `.vue` 싱글파일 지원을 안 한다.
- 화면
  - 익숙한 것으로 빨리 개발하기를 원한다.
  - 타입스크립트, 뷰.js, 뷰티파이, SCSS
  - 기본 모바일 레이아웃
- DB
  - 영수증과 보상내역간 관계 조회가 필요하며, 서버 안쓰고 로컬에서만 자바스크립트로 직접 쓰려고 한다.
  - 로컬 관계형 DB 러브필드
    - pouchDB 고려했으나 `no-sql` 에서 조인을 어떻게 하는 지를 생각하니 두려워서 안 하게 됐다.
- 몇 가지 예시
  - 로컬 스토리지 조회/저장/삭제
  - ~~러브필드(indexedDB 래퍼) 조회/저장/삭제~~

<embed src="https://codesandbox.io/embed/jvwmo587n9?autoresize=1&fontsize=14" width="100%">

약간 구린 건, 2차 `<router-view />` 부터는 타입스크립트 모듈 인식을 못해서 그곳에 보여질 컴포넌트는 바닐라 vuejs 형식으로
작성을 해야한다. 이것때문에 고문당하는 느낌으로 "왜 안 돼?" 모드로 또 인생을 갈아넣었다.



